<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>Scripts on Not a Peeker of Nature</title>
    <link>https://astudentfromsustech.github.io/tags/scripts/</link>
    <description>Recent content in Scripts on Not a Peeker of Nature</description>
    <generator>Hugo</generator>
    <language>en</language>
    <lastBuildDate>Wed, 17 Jul 2024 00:00:00 +0000</lastBuildDate>
    <atom:link href="https://astudentfromsustech.github.io/tags/scripts/index.xml" rel="self" type="application/rss+xml" />
    <item>
      <title>Scripts summary</title>
      <link>https://astudentfromsustech.github.io/posts/c_scripts_summary/</link>
      <pubDate>Wed, 17 Jul 2024 00:00:00 +0000</pubDate>
      <guid>https://astudentfromsustech.github.io/posts/c_scripts_summary/</guid>
      <description>&lt;p&gt;To reuse some scripts, here is a summary for myself organized by topics&lt;/p&gt;&#xA;&lt;h2 id=&#34;3d-genomics&#34;&gt;#3D genomics&lt;/h2&gt;&#xA;&lt;h3 id=&#34;1-from-pairedgz-to-hic&#34;&gt;1. from .paired.gz to hic&lt;/h3&gt;&#xA;&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;#!/usr/bin/env bash&#xA;set -euo pipefail&#xA;&#xA;# ─── User settings ──────────────────────────────────────────────────────────&#xA;data_dir=&amp;#34;../data&amp;#34;&#xA;sample=&amp;#34;HAP-WT&amp;#34;&#xA;&#xA;chromsizes=&amp;#34;../annotations/hg38.chrom.sizes&amp;#34;&#xA;build=&amp;#34;hg38&amp;#34;&#xA;juicer_tools=&amp;#34;../tools/juicer_tools.2.20.00.jar&amp;#34;&#xA;&#xA;merged_pairs=&amp;#34;${data_dir}/${sample}_330M.pairs.gz&amp;#34;&#xA;sorted_merged=&amp;#34;${merged_pairs%.pairs.gz}.sorted.pairs.gz&amp;#34;&#xA;dedup_pairs=&amp;#34;${data_dir}/${sample}_330M.nodups.pairs.gz&amp;#34;&#xA;sorted_dedup=&amp;#34;${dedup_pairs%.pairs.gz}.sorted.pairs.gz&amp;#34;&#xA;pre_pairs=&amp;#34;${data_dir}/${sample}_330M.forPre.pairs.gz&amp;#34;&#xA;hic_file=&amp;#34;${data_dir}/${sample}_330M.hic&amp;#34;&#xA;&#xA;# comma‐sep list of resolutions (no spaces!)&#xA;res_list=&amp;#34;2500000,1000000,500000,250000,100000,50000,25000,10000,5000,1000&amp;#34;&#xA;&#xA;threads=12&#xA;# ────────────────────────────────────────────────────────────────────────────&#xA;&#xA;echo &amp;#34;2 sort merged pairs&amp;#34;&#xA;pairtools sort --nproc $threads -o &amp;#34;$sorted_merged&amp;#34; &amp;#34;$merged_pairs&amp;#34;&#xA;&#xA;echo &amp;#34;3 global deduplication&amp;#34;&#xA;pairtools dedup --nproc-in  $threads --nproc-out $threads --output &amp;#34;$dedup_pairs&amp;#34; &amp;#34;$sorted_merged&amp;#34;&#xA;&#xA;echo &amp;#34;4 sort deduplicated pairs&amp;#34;&#xA;pairtools sort --nproc $threads -o &amp;#34;$sorted_dedup&amp;#34; &amp;#34;$dedup_pairs&amp;#34;&#xA;&#xA;echo &amp;#34;5 prepare for juicebox pre:&amp;#34;&#xA;gunzip -c &amp;#34;$sorted_dedup&amp;#34; | grep -E &amp;#39;^(## pairs format|^#columns|^[^#])&amp;#39; | gzip -c &amp;gt; &amp;#34;$pre_pairs&amp;#34;&#xA;&#xA;echo &amp;#34;6 building multi-res .hic&amp;#34;&#xA;java -Xmx16g -jar &amp;#34;$juicer_tools&amp;#34; pre -t $threads -r &amp;#34;$res_list&amp;#34; &amp;#34;$pre_pairs&amp;#34; &amp;#34;$hic_file&amp;#34; &amp;#34;$build&amp;#34;&#xA;&lt;/code&gt;&lt;/pre&gt;&lt;h2 id=&#34;binformatics&#34;&gt;#Binformatics&lt;/h2&gt;&#xA;&lt;h3 id=&#34;1-change-bedgraph-to-tdf-for-igv-visualization&#34;&gt;1. change bedgraph to tdf for igv visualization&lt;/h3&gt;&#xA;&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;# conda activate tools_igvtools&#xA;&#xA;genome=&amp;#34;hg19&amp;#34;&#xA;src_dir=&amp;#34;../3_prepare_macs2_peaks_forIGV&amp;#34;&#xA;&#xA;for bg in &amp;#34;$src_dir&amp;#34;/*.bedgraph; do&#xA;  base=&amp;#34;${bg%.bedgraph}&amp;#34;&#xA;  echo ${base}&#xA;  tdf=${base}.tdf&#xA;&#xA;  igvtools toTDF ${bg} ${tdf} ${genome}&#xA;done&#xA;&lt;/code&gt;&lt;/pre&gt;</description>
    </item>
  </channel>
</rss>
